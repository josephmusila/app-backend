name: Django Test

on:
    workflow_call:
    workflow_dispatch:
    push:
       branches: [main]
    pull_request:
        branches: [main]

jobs:

    DEBUG: "0"
    DJANGO_SECRET_KEY: 'django-insecure-q&3i7&o#*^eihe%@x3oq$dx*s#bv=na$q=omodk$$%n5#l*f6i'
    DB_USERNAME: "admin"
    DB_PASSWORD: "Musila@01"
    DB_HOST: localhost
    DB_DATABASE: 'kyeni'
    DB_PORT: "3306"
  simple_build:
    runs-on: ubuntu-latest
    steps:
      # Checks-out your repository under $GITHUB_WORKSPACE, so your job can access it
      - name: Checkout code
        uses: actions/checkout@v2
      - name: Setup Python ${{ matrix.python-version }}
        uses: actions/setup-python@v2
        with:
           python-version: 3.8
      - name: Install requirements
        run: |
            pip install -r requirements.txt
      - name: Run tests
        run: |
           
            python manage.py test

